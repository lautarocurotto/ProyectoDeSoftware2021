{% extends "layout.html" %}

{% block title %}Recorrido {{recorrido_to_update.nombre}} {% endblock %}

{% block head %}
    {{super()}}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>
    <script type="module" src="/../static/puntos/updatePuntoMap.js"></script>
{% endblock %}

{% block content %}

<div class="container-fluid">

    <h1>Modificando recorrido de evacuacion {{recorrido_to_update.nombre}}</h1>

    <div class="mb-3">
        <a class="btn btn-outline-secondary" href="{{url_for('recorridos_index')}}">Volver</a>
        {% if tiene_permiso(session["id"],"recorrido_destroy") %}
        <a class="btn btn-outline-danger" href="/recorridos/delete/{{recorrido_to_update.id}}">Borrar</a>
        {% endif %}
    </div>
    
    

    <form action="/recorridos/update/{{recorrido_to_update.id}}" method="POST" id="formulario-update">
        <div class="mb-3">
            <label for="nombre">Nombre de recorrido
                <input class="form-control" type="text" name="nombre" required placeholder="Nombre" required value="{{recorrido_to_update.nombre}}">
            </label>
        </div>
        <div class="mb-3">
            <label for="descripcion">Descripcion
                <input class="form-control" type="text" name="descripcion" required placeholder="Descripcion" required value="{{recorrido_to_update.descripcion}}">  
            </label>
        </div>
       
        <div class="mb-3">
            <label for="status">Estado
                <select class="form-control" name="status" id="status" required value="{{recorrido_to_update.estado}}">
                    <option value="publicado">publicado</option>
                    <option value="despublicado">despublicado</option>
                </select>
            </label>
        </div>
        <div class="mb-3">
            <label for="lat">
                <input class="form-control" type="text" name="lat" placeholder="lat" id='lat' value="{{recorrido_to_update.puntos[0].lat}}">
            </label>
        </div>
        <div class="mb-3">
            <label for="lng">
                <input class="form-control" type="text" name="lng" placeholder="lng" id='lng' value="{{recorrido_to_update.puntos[0].lng}}" >
            </label>
        </div>
        <div id="mapid"></div>
        <input class="btn btn-success btn-lg" type="submit" value="Modificar recorrido de evacuacion">
        
    </form>

</div>


{% endblock %}